(function($) {$(document).ready(function(){	var t_name = $("#form .table_name").val();	get_all();	$('.add_row').click(function(){		$('#insert_form').fadeIn();	});	$('.add_column').click(function(){		$('#add_coll').fadeIn();	});	$(".close").click(function(){		$(this).parent().parent().fadeOut();	});	$('.search_in').bind('input propertychange',function(){		setTimeout(function() {			search_by($('.search_in').val());		}, 1000);	});	$('.reset').click(function(){		$('.search_in').val('');		search_by($(this).val());	})});})(jQuery);/** * Add spinner on table before return response */function add_load(){	jQuery('.translate_table').append('<div class="load"></div>');	jQuery('.load').css({'height':jQuery('.translate_table').height()})}/** * Get all row */function get_all() { //Ajax	var msg = jQuery("#form").serialize();	jQuery.ajax({		type: "POST",		url: '/wp-content/plugins/wp-static-translate/inc/get_table.php',		data: msg,		/*beforeSend: function( xhr){			add_load();		},*/		success: function(data) {			jQuery(".translate_table").html(data);		},		error:  function(xhr, str){			alert("Error!");			jQuery('.load').remove();		}	});}/** * Update data in row */function update() { //Ajax	var msg = jQuery("#update_form").serialize();	jQuery.ajax({		type: "POST",		url: '/wp-content/plugins/wp-static-translate/inc/update_row.php',		data: msg,		beforeSend: function( xhr){			add_load();		},		success: function(data) {			//alert('Update successful');			//jQuery('#debug').html(data);			jQuery('#update_form').fadeOut();			get_all();		},		error:  function(xhr, str){			alert("Error!");			jQuery('.load').remove();		}	});}/** * Set new row */function set_row() { //Ajax	var msg = jQuery("#insert_form").serialize();	jQuery.ajax({		type: "POST",		url: '/wp-content/plugins/wp-static-translate/inc/set_row.php',		data: msg,		beforeSend: function( xhr){			add_load();		},		success: function(data) {			//jQuery('#debug').html(data);			//alert('Add successful');			jQuery('#insert_form').fadeOut();			get_all();		},		error:  function(xhr, str){			alert("Error!");			jQuery('.load').remove();		}	});}/** * Set new column */function set_col(){ //Ajax	var msg = jQuery("#add_coll").serialize();	jQuery.ajax({		type: "POST",		url: '/wp-content/plugins/wp-static-translate/inc/set_coll.php',		data: msg,		beforeSend: function( xhr){			add_load();		},		success: function(data) {			//jQuery('#debug').html(data);			jQuery('#add_coll').fadeOut();			get_all();		},		error:  function(xhr, str){			alert("Error!");			jQuery('.load').remove();		}	});}/** * Get row to add ore change form * @param id - id of row * @param t_name - name of table */function get_row(id,t_name){ //Ajax	var msg = {ID:id,t_name:t_name};	jQuery.ajax({		type: "POST",		url: '/wp-content/plugins/wp-static-translate/inc/get_row.php',		data: msg,		beforeSend: function( xhr){			add_load();		},		success: function(data) {			//jQuery('#debug').html(data);			//alert('Add successful');			jQuery('.load').remove();			jQuery('#update_form').html(data).fadeIn();		},		error:  function(xhr, str){			alert("Error!");			jQuery('.load').remove();		}	});}/** * delete row from DB * @param id - id of row * @param t_name - name of table */function del_row(id,t_name){ //Ajax	var msg = {ID:id,t_name:t_name};	jQuery.ajax({		type: "POST",		url: '/wp-content/plugins/wp-static-translate/inc/del_row.php',		data: msg,		beforeSend: function( xhr){			add_load();		},		success: function(data) {			//jQuery('#debug').html(data);			//alert('Add successful');			 get_all();		},		error:  function(xhr, str){			alert("Error!");		}	});}/** * delete column from table * @param t_name - name of table * @param c_name - name of column */function del_col(t_name,c_name){ //Ajax	var msg = {c_name:c_name,t_name:t_name};	jQuery.ajax({		type: "POST",		url: '/wp-content/plugins/wp-static-translate/inc/del_col.php',		data: msg,		beforeSend: function( xhr){			add_load();		},		success: function(data) {			//jQuery('#debug').html(data);			//alert('Add successful');			get_all();		},		error:  function(xhr, str){			alert("Error!");		}	});}/** * Search rows in table * @param search */function search_by(search){//Ajax	var msg = {search:search};	jQuery.ajax({		type: "POST",		url: '/wp-content/plugins/wp-static-translate/inc/search_by.php',		data: msg,		beforeSend: function( xhr){			add_load();		},		success: function(data) {			//jQuery('#debug').html(data);			jQuery(".translate_table").html(data);		},		error:  function(xhr, str){			alert("Error!");			jQuery('.load').remove();		}	});}